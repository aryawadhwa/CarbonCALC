<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CarbonCALC - Biosafety & Carbon Footprint Monitoring</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon"></script>
</head>

<body>
    <div id="app">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-brand">
                    <h1>CarbonCALC</h1>
                </div>
                <div class="nav-menu" id="navMenu">
                    <a href="#dashboard" class="nav-link" data-section="dashboard">Dashboard</a>
                    <a href="#calculate" class="nav-link" data-section="calculate">Calculate</a>
                    <a href="#recommendations" class="nav-link" data-section="recommendations">Recommendations</a>
                    <a href="#predictions" class="nav-link" data-section="predictions">Predictions</a>
                    <a href="#benchmarks" class="nav-link" data-section="benchmarks">Benchmarks</a>
                    <a href="#history" class="nav-link" data-section="history">History</a>
                    <a href="#profile" class="nav-link" data-section="profile">Profile</a>
                    <button class="btn-logout" onclick="Auth.logout()">Logout</button>
                </div>
            </div>
        </nav>

        <!-- Auth Section -->
        <section id="authSection" class="section active">
            <div class="auth-container">
                <div class="auth-card">
                    <h2>Welcome to CarbonCALC</h2>
                    <p class="subtitle">Real-time Biosafety & Carbon Footprint Monitoring Platform</p>

                    <div class="auth-tabs">
                        <button class="tab-btn active" data-tab="login">Login</button>
                        <button class="tab-btn" data-tab="register">Register</button>
                    </div>

                    <!-- Login Form -->
                    <form id="loginForm" class="auth-form active" onsubmit="Auth.login(event)">
                        <div class="form-group">
                            <label for="loginUsername">Username</label>
                            <input type="text" id="loginUsername" required autocomplete="username" />
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" required autocomplete="current-password" />
                        </div>
                        <button type="submit" class="btn-primary">Login</button>
                    </form>

                    <!-- Register Form -->
                    <form id="registerForm" class="auth-form" onsubmit="Auth.register(event)">
                        <div class="form-group">
                            <label for="regFullName">Full Name</label>
                            <input type="text" id="regFullName" required />
                        </div>
                        <div class="form-group">
                            <label for="regEmail">Email</label>
                            <input type="email" id="regEmail" required autocomplete="email" />
                        </div>
                        <div class="form-group">
                            <label for="regUsername">Username</label>
                            <input type="text" id="regUsername" required autocomplete="username" />
                        </div>
                        <div class="form-group">
                            <label for="regPassword">Password</label>
                            <input type="password" id="regPassword" required autocomplete="new-password" />
                        </div>
                        <div class="form-group">
                            <label for="regUserType">Entity Type</label>
                            <select id="regUserType" required>
                                <option value="individual">Individual</option>
                                <option value="corporation">Corporation / Factory</option>
                                <option value="institution">Institution</option>
                            </select>
                        </div>
                        <div class="form-group" id="orgNameGroup">
                            <label for="regOrgName">Organization Name (Optional for individuals)</label>
                            <input type="text" id="regOrgName" />
                        </div>
                        <button type="submit" class="btn-primary">Register</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Main Sections -->
        <section id="dashboard" class="section">
            <div class="container">
                <h2>Biosafety Dashboard</h2>
                <div class="stats-grid" id="dashboardStats">Loading...</div>
                <div class="chart-container">
                    <canvas id="footprintChart"></canvas>
                </div>
            </div>
        </section>

        <section id="calculate" class="section">
            <div class="container">
                <h2>Calculate Your Carbon & Biosafety Impact</h2>
                <form id="calculateForm">
                    <!-- Energy -->
                    <div class="form-section">
                        <h3>Energy Consumption</h3>
                        <div class="form-row">
                            <div class="form-group H">
                                <label>Electricity (kWh/month)</label>
                                <input type="number" step="0.1" name="electricity_usage" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Gas (kWh/month)</label>
                                <input type="number" step="0.1" name="gas_usage" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Heating Oil (liters/month)</label>
                                <input type="number" step="0.1" name="heating_oil" value="0" />
                            </div>
                        </div>
                    </div>

                    <!-- Transport -->
                    <div class="form-section">
                        <h3>Transportation</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Vehicle Miles (km/month)</label>
                                <input type="number" step="0.1" name="vehicle_miles" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Public Transport (km/month)</label>
                                <input type="number" step="0.1" name="public_transport_km" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Flights (km/month)</label>
                                <input type="number" step="0.1" name="flights_km" value="0" />
                            </div>
                        </div>
                    </div>

                    <!-- Waste & Biosafety -->
                    <div class="form-section">
                        <h3>Waste & Hazardous Materials</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Waste Produced (kg/month)</label>
                                <input type="number" step="0.1" name="waste_produced" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Recycling Rate (%)</label>
                                <input type="number" min="0" max="100" name="recycling_rate" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Hazardous Waste (kg/month)</label>
                                <input type="number" step="0.1" name="hazardous_waste" value="0" />
                            </div>
                        </div>
                    </div>

                    <!-- Food & Water -->
                    <div class="form-section">
                        <h3>Food & Water</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Meat Consumption (kg/month)</label>
                                <input type="number" step="0.1" name="meat_consumption" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Vegetarian Meals (per month)</label>
                                <input type="number" name="vegetarian_meals" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Water Usage (liters/month)</label>
                                <input type="number" step="0.1" name="water_usage" value="0" />
                            </div>
                        </div>
                    </div>

                    <!-- Corporate Fields -->
                    <div class="form-section" id="corporateSection">
                        <h3>Corporate / Institutional Data</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Employee Count</label>
                                <input type="number" name="employee_count" value="1" min="1" />
                            </div>
                            <div class="form-group">
                                <label>Facility Area (mÂ²)</label>
                                <input type="number" step="0.1" name="office_space_sqm" value="0" />
                            </div>
                            <div class="form-group">
                                <label>Biosafety Level</label>
                                <select name="biosafety_level">
                                    <option value="1">BSL-1 (Low Risk)</option>
                                    <option value="2">BSL-2 (Moderate)</option>
                                    <option value="3">BSL-3 (High)</option>
                                    <option value="4">BSL-4 (Maximum)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Notes (Optional)</label>
                        <textarea name="notes" rows="3"></textarea>
                    </div>

                    <button type="submit" class="btn-primary btn-large">Calculate Impact</button>
                </form>

                <div id="resultsSection" class="mt-8" style="display:none;">
                    <h3>Calculation Results</h3>
                    <div id="resultsContent" class="bg-white p-6 rounded-lg shadow-lg"></div>
                </div>
            </div>
        </section>

        <!-- Other sections (predictions, benchmarks, etc.) remain similar -->
        <!-- I'll keep them short for brevity, but they follow same clean pattern -->

        <section id="recommendations" class="section">
            <div class="container">
                <h2>Biosafety & Mitigation Recommendations</h2>
                <div id="recommendationsContent" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                    <p class="text-gray-500">Loading personalized strategies...</p>
                </div>
            </div>
        </section>

        <section id="predictions" class="section">
            <div class="container">
                <h2>AI-Powered 12-Month Forecast</h2>
                <div class="chart-container">
                    <canvas id="predictionChart"></canvas>
                </div>
                <div class="stats-grid mt-8" id="predictionStats"></div>
            </div>
        </section>

        <section id="benchmarks" class="section">
            <div class="container">
                <h2>Industry Benchmark Comparison</h2>
                <div class="chart-container">
                    <canvas id="benchmarkChart"></canvas>
                </div>
                <div id="benchmarkStats" class="mt-8"></div>
            </div>
        </section>

        <section id="history" class="section">
            <div class="container">
                <h2>Calculation History</h2>
                <div id="historyContent"></div>
            </div>
        </section>

        <section id="profile" class="section">
            <div class="container">
                <h2>Profile</h2>
                <div id="profileContent">Loading...</div>
            </div>
        </section>
    </div>

    <script src="app.js"></script>
</body>

</html>